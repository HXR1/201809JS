<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
//    function Promise(callback){
//        this.aa  = 100;
//        callback()
//    }
    //Promise是构造函数  new 去运行
    //参数是一个回调函数,回调函数有两参数，resolve(执行成功的回调) reject(执行失败的回调)
    //then 是Promise类原型上的方法 ，通过实例调用  then有两个参数，第一个表示成功回调 ，第二个参数表示失败回调 then方法返回的是新的promise实例，所以可以继续调用then方法 (类似于jquery的链式写法)
    //promise有三种状态 第一种是pending(等待) 第二种是fulfilled （成功状态） 第三种状态 rejected （失败）

   let p =  new Promise(function(resolve,reject){
        window.setTimeout(function(){//属于是等待状态，要写成异步的
            //resolve("a");
            reject();
        },1000)

    });
    p.then(function(data){
        console.log(data);
    },function(){
       // console.log("error1");
        throw new Error("error1");//只有手动抛出异常状态才会变成失败的状态，其他都是成功状态  (前提是没有再返回promise对象)
    }).then(function(){
        console.log("b");
    },function(){
        console.log("error2")
    })
</script>